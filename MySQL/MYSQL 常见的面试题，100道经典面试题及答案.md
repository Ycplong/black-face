# MYSQL 常见的面试题，100道经典面试题及答案

### 全部面试题答案，更新日期：12月30日，直接下载吧！

### 下载链接：[高清500+份面试题资料及电子书，累计 10000+ 页大厂面试题  PDF](/docs/index.md)

## MySQL

### 题1：[如何通俗地理解三个范式？ ](/docs/MySQL/MYSQL%20常见的面试题，100道经典面试题及答案.md#题1如何通俗地理解三个范式-)<br/>
第一范式：1NF是对属性的原子性约束，要求属性具有原子性，不可再分解；

第二范式：2NF是对记录的惟一性约束，要求记录有惟一标识，即实体的惟一性；  

第三范式：3NF是对字段冗余性的约束，即任何字段不能由其他字段派生出来，它要求字段没有冗余。

**范式化设计优缺点**

优点：可以尽量得减少数据冗余，使得更新快，体积小。

缺点：对于查询需要多个表进行关联，减少写得效率增加读得效率，更难进行索引优化。

**反范式化**

优点：可以减少表得关联，可以更好得进行索引优化。

缺点：数据冗余以及数据异常，数据得修改需要更多的成本。

### 题2：[MySQL 中 TEXT 数据类型的最大长度？](/docs/MySQL/MYSQL%20常见的面试题，100道经典面试题及答案.md#题2mysql-中-text-数据类型的最大长度)<br/>
TINYTEXT：256 bytes

TEXT：65,535 bytes(64kb)

MEDIUMTEXT：16,777,215 bytes(16MB)

LONGTEXT：4,294,967,295 bytes(4GB)

### 题3：[MySQL 中 BLOB 和 TEXT 有什么区别？](/docs/MySQL/MYSQL%20常见的面试题，100道经典面试题及答案.md#题3mysql-中-blob-和-text-有什么区别)<br/>
BLOB是一个二进制对象，可以容纳可变数量的数据。TEXT是一个不区分大小写的BLOB。

BLOB和TEXT类型之间的唯一区别在于对BLOB值进行排序和比较时区分大小写，对TEXT值不区分大小写。

### 题4：[MySQL 调优数据库都有哪些方法？](/docs/MySQL/MYSQL%20常见的面试题，100道经典面试题及答案.md#题4mysql-调优数据库都有哪些方法)<br/>
1、选取最适用的字段属性，尽可能减少定义字段宽度，尽量把字段设置NOTNULL，例如’省份’、’性别’最好适用ENUM。

2、使用连接(JOIN)来代替子查询。

3、适用联合(UNION)来代替手动创建的临时表。

4、事务处理。

5、锁定表、优化事务处理。

6、适用外键，优化锁定表。

7、建立索引。

8、优化查询语句。

### 题5：[MySQL 中分库分表可能会遇到什么问题？](/docs/MySQL/MYSQL%20常见的面试题，100道经典面试题及答案.md#题5mysql-中分库分表可能会遇到什么问题)<br/>
事务问题：需要用分布式事务。

跨节点Join的问题：解决这问题可以分两次查询实现。

跨节点的count、order by、group by以及聚合函数问题：分别在各个节点上得到结果后在应用程序端进行合并。

数据迁移，容量规划，扩容等问题。

ID问题：数据库被切分后，不能再依赖数据库自身的主键生成机制啦，最简单可以考虑UUID。

跨分片的排序分页问题：后台加大对pagesize处理。

### 题6：[什么是最左前缀原则？](/docs/MySQL/MYSQL%20常见的面试题，100道经典面试题及答案.md#题6什么是最左前缀原则)<br/>
最左前缀原则就是最左优先，在创建多列索引时，要根据业务需求，where子句中使用最频繁的一列放在最左边。

当创建一个组合索引的时候，如（k1,k2,k3），相当于创建了（k1）、(k1,k2）和（k1,k2,k3）三个索引，这就是最左匹配原则。。

### 题7：[触发器的使用场景有哪些？](/docs/MySQL/MYSQL%20常见的面试题，100道经典面试题及答案.md#题7触发器的使用场景有哪些)<br/>
1、可以通过数据库中的相关表实现级联更改。

2、实时监控某张表中的某个字段的更改而需要做出相应的处理。

3、可以用于生成某些业务的编号。

4、注意不要滥用，否则会造成数据库及应用程序的维护困难。

### 题8：[哈希索引不适用哪些场景？](/docs/MySQL/MYSQL%20常见的面试题，100道经典面试题及答案.md#题8哈希索引不适用哪些场景)<br/>
1、不支持范围查询；

2、不支持索引完成排序；

3、不支持联合索引的最左前缀匹配规则。

通常，B+树索引结构适用于绝大多数场景，像下面这种场景用哈希索引才更有优势：

在HEAP表中，如果存储的数据重复度很低（也就是说基数很大），对该列数据以等值查询为主，没有范围查询、没有排序的时候，特别适合采用哈希索引，例如这种SQL：

**仅等值查询**

select id, name from table where name='李明'; 

而常用的 InnoDB 引擎中默认使用的是B+树索引，它会实时监控表上索引的使用情况。

如果认为建立哈希索引可以提高查询效率，则自动在内存中的“自适应哈希索引缓冲区”建立哈希索引（在InnoDB中默认开启自适应哈希索引）。

通过观察搜索模式，MySQL会利用index key的前缀建立哈希索引，如果一个表几乎大部分都在缓冲池中，那么建立一个哈希索引能够加快等值查询。

注意：在某些工作负载下，通过哈希索引查找带来的性能提升远大于额外的监控索引搜索情况和保持这个哈希表结构所带来的开销。

但某些时候，在负载高的情况下，自适应哈希索引中添加的read/write锁也会带来竞争，比如高并发的join操作。like操作和%的通配符操作也不适用于自适应哈希索引，可能要关闭自适应哈希索引。

### 题9：[存储过程有哪些优缺点？](/docs/MySQL/MYSQL%20常见的面试题，100道经典面试题及答案.md#题9存储过程有哪些优缺点)<br/>
**优点：**

1、存储过程是一个预编译的代码块，执行效率比较高。

2、存储过程在服务器端运行，减少客户端的压力。

3、允许模块化程序设计，只需要创建一次过程，以后在程序中就可以调用该过程任意次，类似方法的复用。

4、一个存储过程替代大量T_SQL语句 ，可以降低网络通信量，提高通信速率。

5、可以一定程度上确保数据安全。

**缺点：**

1、调试麻烦。

2、可移植性不灵活。

3、重新编译问题。

### 题10：[SQL 语句中使用  like 如何避免索引失效？](/docs/MySQL/MYSQL%20常见的面试题，100道经典面试题及答案.md#题10sql-语句中使用--like-如何避免索引失效)<br/>
使用like模糊查询全部字段的的情况

1）当两边使用%时，结果是全表扫描，索引失效。

2）当左边使用%时，结果是全表扫描，索引失效。

3）当右边使用%时，结果是range，索引生效。

上述三种情况当使用like模糊查询所有字段，不包含在索引列中的字段时，只有%放在右边索引才会生效。

注意尽量避免SELECT *查询，而是一一罗列出所需要查询的字段，因为可能搞不好SELECT *查询多出一个字段，就导致全表扫描。

**覆盖索引**

如果一个索引包含(或覆盖)所有需要查询的字段的值，称为‘覆盖索引’。即只需扫描索引而无须回表。

只扫描索引而无需回表的优点：

1）索引条目通常远小于数据行大小，只需要读取索引，则mysql会极大地减少数据访问量。

2）因为索引是按照列值顺序存储的，所以对于IO密集的范围查找会比随机从磁盘读取每一行数据的IO少很多。

3）一些存储引擎如myisam在内存中只缓存索引，数据则依赖于操作系统来缓存，因此要访问数据需要一次系统调用。

4）innodb的聚簇索引，覆盖索引对innodb表特别有用。(innodb的二级索引在叶子节点中保存了行的主键值，所以如果二级主键能够覆盖查询，则可以避免对主键索引的二次查询)

覆盖索引必须要存储索引列的值，而哈希索引、空间索引和全文索引不存储索引列的值，所以mysql只能用B-tree索引做覆盖索引


![大厂面试题](../../imgs/pages.jpg "Java精选")

![大厂面试题](../../imgs/pdfs.png "Java精选")

![大厂面试题](../../imgs/weixin.png "Java精选")